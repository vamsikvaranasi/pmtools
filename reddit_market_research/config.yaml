# Reddit Market Research Tool Configuration
# This file contains all settings and mappings for the toolchain

# Community to Product Name Mappings
# Format: community_name: product_display_name
product_mappings:
  r/boltnewbuilders: Boltnewbuilders
  r/lovable: Lovable
  r/replit: Replit

# Output Configuration
output:
  # Base output directory (relative paths are relative to where the script is run)
  base_dir: output
  # Whether to create timestamped subdirectories for each run
  use_timestamp: true
  # Date format for timestamped directories
  timestamp_format: "%Y_%m_%d_%H%M"

# Data Processing Configuration
data_processing:
  # Minimum required fields for posts
  post_fields:
    - id
    - url
    - title
    - communityName
    - body
    - dataType
    - createdAt
    - upVotes
  # Minimum required fields for comments
  comment_fields:
    - id
    - url
    - postId
    - parentId
    - communityName
    - body
    - dataType
    - createdAt
    - upVotes
  # Minimum upvotes required for inclusion
  min_upvotes: 0
  # Minimum word count (title + body) required for inclusion
  min_word_count: 0

# Text Analysis Configuration
text_analysis:
  # Default analysis level: toy, nlp, or llm
  default_level: nlp
  # NLP backend: vader or distilbert
  nlp_backend: distilbert
  # LLM settings (used when level=llm)
  llm:
    model: smollm2:360m
    base_url: http://localhost:11434
    max_retries: 3
    retry_delay: 1.0
  # Custom prompt file (optional)
  prompt_file: null
  # DistilBERT settings (used when nlp_backend=distilbert)
  distilbert:
    model: iam-tsr/distilbert-finetuned-sentiment-analysis
    label_map:
      label_0: negative
      label_1: neutral
      label_2: positive

# Visualization Configuration
visualization:
  # Enable/disable specific visualizations
  charts:
    sentiment_bar_chart: true
    sentiment_pie_charts: false
    category_bar_chart: true
    stacked_category_chart: true
    word_clouds: false
  
  # Color scheme for sentiment (with gradients)
  colors:
    sentiment:
      positive: "#2E8B57"  # Sea green
      positive_gradient: ["#1a5c38", "#2E8B57", "#3cb371"]  # Dark to light green
      negative: "#DC143C"  # Crimson
      negative_gradient: ["#8b0000", "#DC143C", "#ff6347"]  # Dark to light red
      neutral: "#808080"   # Gray
      neutral_gradient: ["#4a4a4a", "#808080", "#a9a9a9"]  # Dark to light gray
    category:
      Question: "#1E90FF"   # Dodger blue
      Praise: "#32CD32"     # Lime green
      Complaint: "#FF6347"  # Tomato
      Suggestion: "#FF8C00" # Dark orange
      Comparison: "#20B2AA" # Light sea green
      Agreement: "#9ACD32"  # Yellow green
      Disagreement: "#B22222" # Firebrick
      Sharing: "#FFD700"    # Gold
      Statement: "#9370DB"  # Medium purple
      Answer: "#FF69B4"     # Hot pink
  
  # Chart styling
  styling:
    figure_size:
      width: 10
      height: 6
    dpi: 300
    font_size:
      title: 14
      label: 12
      ticks: 10
    title_font_size: 16
    legend_font_size: 11

# Report Configuration
reporting:
  # Generate these report types
  reports:
    executive_summary: true
    final_report: true
    qa_reports: true

# Logging Configuration
logging:
  level: INFO
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# QA Processor Configuration
qa_processor:
  # Select which QA processor to use: "standard" or "plus"
  # - "standard": Uses qa_processor module (basic functionality)
  # - "plus": Uses qa_processor_plus module (advanced features)
  variant: "standard"

# QA Processor Plus Configuration
qa_processor_plus:
  # Core Configuration
  core:
    version: "1.0.0"
    debug: false
    log_level: "INFO"
    timezone: "UTC"

  # Processing Configuration
  processing:
    max_conversations: 50000
    batch_size: 500
    timeout: 600
    parallel_processing: true
    max_depth: 5
    thread_analysis: true
    community_analysis: true

  # Embedding Configuration
  embedding:
    model: "all-MiniLM-L6-v2"
    dimension: 384
    similarity_threshold: 0.75
    context_window: 512
    max_tokens: 1000
    semantic_similarity: true
    semantic_search: true

  # Clustering Configuration
  clustering:
    n_clusters: 8
    min_cluster_size: 5
    max_iter: 500
    random_state: 42
    hierarchical_clustering: true
    community_based_clustering: true
    temporal_clustering: true

  # Plugin Configuration
  plugins:
    enabled:
      - sentence_transformers
      - ollama
      - reddit_analysis
    sentence_transformers:
      model: "all-MiniLM-L6-v2"
      cache_size: 10000
      batch_size: 256
    ollama:
      model: "llama3.2"
      host: "http://localhost:11434"
      temperature: 0.3
      max_tokens: 1500
    reddit_analysis:
      sentiment_analysis: true
      category_detection: true
      community_detection: true
      temporal_analysis: true

  # Storage Configuration
  storage:
    vector_store: "reddit_vector_store.db"
    cache_dir: ".reddit_cache"
    max_cache_size: 50000
    backup_enabled: true
    backup_interval: 3600
    compression: true

  # Quality Configuration
  quality:
    min_confidence: 0.6
    max_duplicates: 3
    min_length: 20
    max_length: 10000
    sentiment_threshold: 0.3
    category_confidence: 0.5
    community_relevance: 0.4

  # Performance Configuration
  performance:
    workers: 8
    memory_limit: "4GB"
    cpu_limit: "90%"
    timeout: 600
    cache_enabled: true
    batch_processing: true
    progressive_loading: true
